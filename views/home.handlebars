<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">Navbar</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link" aria-current="page" href="/members">Members</a>
        </li>
      </ul>
      <form class="d-flex">
        <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
        <button class="btn btn-outline-success" type="submit">Search</button>
      </form>
    </div>
  </div>
</nav>
<h1>Favorite Jobs</h1>

<div class="container">
  {{!-- Form --}}
  <form>
    <fieldset>
      <legend class="legend">Favorite Jobs</legend>
      <div class="row">
        <div class="col">
          <input type="text" class="form-control" id="form-title" placeholder="Job Title">
        </div>
        <div class="col">
          <input type="text" class="form-control" id="form-company" placeholder="Company">
        </div>
      </div>
      <br>
      <div class="row">
        <div class="col">
          <input type="text" class="form-control" id="form-location" placeholder="Location">
        </div>
        <div class="col">
          <input type="text" class="form-control" id="form-snippit" placeholder="Description">
        </div>
      </div>
      <br>
      <div class="row">
        <div class="col">
          <input type="text" class="form-control" id="form-link" placeholder="url">
        </div>
        <div class="col">
          {{!-- <div class="form-group"> --}}
            {{!-- <label for="form-salary">Salary:</label> --}}
            <input type="number" class="form-control" id="form-salary" aria-describedby="salary" placeholder="Salary">
            {{!--
          </div> --}}
        </div>
      </div>
      <br>
      <div class="row">
        <div class="col">Deadline:
          <input type="text" class="form-control" id="form-deadline">
        </div>

        {{!-- <div class="col">
          <input type="text" class="form-control" id="form-deadline" placeholder="Deadline">
        </div> --}}
        <div class="col">
          <label for="form-notes">Notes</label>
          <input type="text" class="form-control" id="form-notes">
        </div>
      </div>

      <br>
      <div class="row">
        <div class="col">
          <label for="form-status">Application Status</label>
          <select class="form-control" id="form-status">
            <option>Interested</option>
            <option>Working on Application</option>
            <option>Applied</option>
            <option>Interviewing</option>
            <option>Waiting for offer</option>
            <option>Offered Job</option>
            <option>Unknown</option>
            <option>No offer</option>
          </select>
        </div>
        <div class="col">
          <div class="col">
            <label for="form-interest">Interest Level</label>
            <select class="form-control" id="form-interest">
              <option>High</option>
              <option>Medium</option>
              <option>Low</option>
            </select>
          </div>
        </div>


      </div>
      <br>
      <input class="btn btn-primary" type="submit" id="submit" value="Submit">
    </fieldset>
  </form>


  {{#if Jobs}}
  {{#each Jobs}}
  <div class="card">
    <h5 class="card-header" id="title-{{{id}}}">{{jobtitle}}</h5>
    <div class="card-body">
      <h5 class="card-title" id="company-{{id}}">{{company}}</h5>
      <br>
      <p class="card-text" id="salary-{{id}}"><span>Salary: </span><span class="job-card-view-field">{{salary}}</span> <input type="text" class="job-card-edit-field" id="salary-edit-{{ id }}" value="{{salary}}" style="display: none;"></p>


      <p class="card-text" id="formattedLocation-{{id}}"><span>Location: </span><span class="job-card-view-field">{{formattedLocation}}</span> <input type="text" class="job-card-edit-field" id="formattedLocation-edit-{{ id }}" value="{{formattedLocation}}" style="display: none;"></input></p>

      <p class="card-text" id="snippet-{{id}}"><span>Description: </span><span class="job-card-view-field">{{snippet}}</span> <input type="text" class="job-card-edit-field" id="snippet-edit-{{ id }}" value="{{snippet}}" style="display: none;"></p>


      <p class="card-text" id="url-{{id}}"><span>URL: </span><span class="job-card-view-field">{{url}}</span> <input type="text" class="job-card-edit-field" id="url-edit-{{ id }}" value="{{url}}" style="display: none;"></p>


      <p class="card-text" id="deadline-{{id}}"><span>Deadline: </span><span class="job-card-view-field">{{deadline}}</span> <input type="text" class="job-card-edit-field" id="deadline-edit-{{ id }}" value="{{deadline}}" style="display: none;"></p>


      <p class="card-text" id="interest-{{id}}"><span>Interest: </span>{{interested}} 
      <span class= "job-card-edit-field" id="interested-edit-{{id}}" value="{{interested}}" style="display: none;">
      <select class="form-control" id="form-interest">
              <option>High</option>
              <option>Medium</option>
              <option>Low</option>
            </select>
          </span></p>


      <p class="card-text" id="notes-{{id}}"><span>Notes: </span><span class="job-card-view-field">{{notes}}</span> <input type="text" class="job-card-edit-field" id="notes-edit-{{ id }}" value="{{notes}}" style="display: none;"></p>


      <p class="card-text" id="status-{{id}}"><span>Status: </span>{{status}}<span class= "job-card-edit-field" id="status-edit-{{id}}" value="{{status}}" style="display: none;">
      <select class="form-control" id="form-status">
            <option>Interested</option>
            <option>Working on Application</option>
            <option>Applied</option>
            <option>Interviewing</option>
            <option>Waiting for offer</option>
            <option>Offered Job</option>
            <option>Unknown</option>
            <option>No offer</option>
          </select>
          </span></p>

      
      <a href="#" id="{{id}}" class="edit-button btn btn-primary">Edit</a>
      <a href="#" id="{{id}}" class="delete-button btn btn-primary">Delete</a>
      <a href="#" id="{{id}}" class="save-button btn btn-primary">save</a>
      <a href="#" id="{{id}}" class="cancel-button btn btn-primary">cancel</a>
    </div>
  </div>
  {{/each}}
  {{/if}}
</div>
</div>
<script>

  $(document).ready(() => {
    // This file just does a GET request to figure out which user is logged in
    // and updates the HTML on the page
    $.get("/api/user_data").then(data => {
      $(".member-name").text(data.email);
    });
  });


</script>